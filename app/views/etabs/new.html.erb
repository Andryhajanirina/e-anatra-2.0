<script src="/js/newmap.js"></script>


   <!-- .row -->

<%= form_for @etab, class:"form-horizontale" do |f| %>

 <section class="col-md-offset-3 padding-top-3x padding-left-right margin_top">
    <h1 class="mobile-center">Créer <span class="text-semibold">un établissement</span></h1>
    <div class="row padding-top">
       <div class="col-sm-8 padding-bottom-2x">
          <!-- Nav Tabs -->
          <!--ul class="nav-tabs mobile-center" role="tablist">
             <li><a href="/users/sign_in" role="tab" data-toggle="tab">
                <i class="material-icons person"></i>
                Se connecter
                </a>
             </li>
             <li class="active"><a href="/users/sign_up" role="tab" data-toggle="tab">
                <i class="material-icons person_add"></i>
                Créer un compte
                </a>
             </li>
          </ul-->
          <!-- .nav-tabs -->
          <!-- Tab Panes -->
          <div class="tab-content">
             <div role="tabpanel" class="tab-pane transition fade scale in active" id="profile">
                <form method="post">



                   <div class="row">
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="image">Photo représentant votre établissement</label>
                            <div class="input-file-container">
                                <%= f.file_field :image, autofocus: true, class: "input-file" %>
                                <label tabindex="0" for="image" class="input-file-trigger">Importer une photo...</label>
                            </div>
                            <p class="file-return"></p>
                         </div>
                      </div>
                      <div class="col-sm-6">
                         
                      </div>
                   </div>

                   <div class="row">
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="nom_etab">Nom de l'établissement</label>
                            <%= f.text_field :nom_etab, class: "form-control form-control-lg" %>
                         </div>
                      </div>
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="category">Catégorie</label>
                            <%= f.text_field :category, class: "form-control form-control-lg" %>
                         </div>
                      </div>
                   </div>

                   <div class="row">
                      <div class="col-sm-6">
                        <div class="form-element">
                            <label for="province">Province</label>
                            <div class="form-element form-select">
                                <select name="province" id="province" class="form-control form-control-lg">
                                    <% Province.all.each do |province| %>
                                    <option value="<%= province.id %>"><%= province.province_name %></option>
                                    <% end %>
                                </select>
                            </div>
                         </div>
                      </div>
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="address">Adresse</label>
                            <%= f.text_field :address, class: "form-control form-control-lg" %>
                         </div>
                      </div>
                   </div>

                   <div class="row">
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="email">Adresse email</label>
                            <%= f.email_field :email, class: "form-control form-control-lg" %>
                         </div>
                      </div>
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label for="phone_number">Téléphone</label>
                            <%= f.telephone_field :phone_number, class: "form-control form-control-lg" %>
                         </div>
                      </div>
                   </div>
                   
                   <div class="form-element">
                        <label for="description">Description de votre établissement</label>
                        <%= f.text_area :description, class: "form-control form-control-lg text-editor" %>
                   </div>
<h5 class="mobile-center">Veuillez déplacer le <span class="text-semibold">marqueur du map</span> au dessous sur votre emplacement</h5>
                   <div class="row">
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label>Latitude</label>
                            <%= f.text_field :latitude, class: "form-control form-control-lg", readonly: "" %>
                         </div>
                      </div>
                      <div class="col-sm-6">
                         <div class="form-element">
                            <label>Longitude</label>
                            <%= f.text_field :longitude, class: "form-control form-control-lg", readonly: "" %>
                         </div>
                      </div>
                   </div>
                   
                   <div class="row">
                      <div class="col-sm-6">
                         <label class="checkbox space-top">
                            <input type="checkbox"> Je comfirme avoir lu les <a data-toggle="modal" data-target="#exampleModalLong" href=""> termes et conditions </a>
                         </label>
                      </div>
                      <div class="col-sm-6 text-right mobile-center">
                         <button type="submit" class="btn btn-primary waves-effect waves-light">Créer un compte</button>
                      </div>
                   </div>
                </form>
             </div>
          </div>
          <!-- .tab-content -->
       </div>
       <!-- .col-sm-8 -->
    </div>
    <!-- .row -->
 </section>

 <% end %>



 <div id="newmap"></div>

 <!-- Script js pour l'upload file -->
 <script>
document.querySelector("html").classList.add('js');

var fileInput  = document.querySelector( ".input-file" ),  
    button     = document.querySelector( ".input-file-trigger" ),
    the_return = document.querySelector(".file-return");
      
button.addEventListener( "keydown", function( event ) {  
    if ( event.keyCode == 13 || event.keyCode == 32 ) {  
        fileInput.focus();  
    }  
});
button.addEventListener( "click", function( event ) {
   fileInput.focus();
   return false;
});  
fileInput.addEventListener( "change", function( event ) {  
    the_return.innerHTML = this.value;  
});  
</script>